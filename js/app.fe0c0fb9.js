(function(t){function e(e){for(var a,c,s=e[0],r=e[1],d=e[2],u=0,m=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&m.push(i[c][0]),i[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var r=n[s];0!==i[r]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},i={app:0},o=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var l=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"09be":function(t,e,n){"use strict";n("282b")},1778:function(t,e,n){},"227e":function(t,e,n){},"282b":function(t,e,n){},"3c13":function(t,e,n){},"52d9":function(t,e,n){"use strict";n("3c13")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,i,o=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-wrap",attrs:{id:"app"}},[n("router-view")],1)},s=[],r={name:"App"},d=r,l=(n("034f"),n("2877")),u=Object(l["a"])(d,c,s,!1,null,null,null),m=u.exports,f=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"main-title"},[t._v("Contacts")]),n("ContactList",{attrs:{contacts:t.allContacts}})],1)},p=[],b=n("5530"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contacts"},[t.addNewContact?n("div",[n("AddNewContact",{on:{addContactToglle:t.addContactToglle}})],1):n("div",[t._l(t.contacts,(function(t){return n("ContactListItem",{key:t.id,attrs:{contact:t}})})),n("div",{staticClass:"flex justify-content-center"},[n("button",{staticClass:"btn btn-green",on:{click:t.addContactToglle}},[t._v(" Add new contact ")])])],2)])},v=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contacts__item-wrap"},[n("router-link",{staticClass:"contacts__item",attrs:{to:{name:"contact",params:{id:t.contact.id}}}},[n("div",{staticClass:"contacts__item-name"},[t._v(" "+t._s(t.contact.name)+" ")]),n("div",{staticClass:"contacts__item-phone"},[t._v(" "+t._s(t.contact.phone)+" ")])]),n("button",{staticClass:"btn btn-delete",on:{click:t.delContact}},[t._v("-")])],1)},w=[],g=(n("7db0"),n("c740"),n("a434"),n("b0c0"),n("ade3")),y={contacts:[{id:1,name:"Leanne Graham",username:"Bret",email:"Sincere@april.biz",phone:"1-770-736-8031 x56442"},{id:2,name:"Ervin Howell",username:"Antonette",email:"Shanna@melissa.tv",phone:"010-692-6593 x09125"},{id:3,name:"Clementine Bauch",username:"Samantha",email:"Nathan@yesenia.net",phone:"1-463-123-4447",website:"ramiro.info"},{id:4,name:"Patricia Lebsack",username:"Karianne",email:"Julianne.OConner@kory.org",phone:"493-170-9623 x156"},{id:5,name:"Chelsey Dietrich",username:"Kamren",email:"Lucio_Hettinger@annie.ca",phone:"(254)954-1289"},{id:6,name:"Mrs. Dennis Schulist",username:"Leopoldo_Corkery",email:"Karley_Dach@jasper.info",phone:"1-477-935-8478 x6430"},{id:7,name:"Kurtis Weissnat",username:"Elwyn.Skiles",email:"Telly.Hoeger@billy.biz",phone:"210.067.6132"},{id:8,name:"Nicholas Runolfsdottir V",username:"Maxime_Nienow",email:"Sherwood@rosamond.me",phone:"586.493.6943 x140"},{id:9,name:"Glenna Reichert",username:"Delphine",email:"Chaim_McDermott@dana.io",phone:"(775)976-6794 x41206"},{id:10,name:"Clementina DuBuque",username:"Moriah.Stanton",email:"Rey.Padberg@karina.biz",phone:"024-648-3804"}],prevStateOfContact:{}},E={updateContacts:"[contact] updateContacts",updateContact:"[contact] updateContact",addNewContact:"[contact] addNewContact",deleteContact:"[contact] deleteContact",addNewField:"[contact] addNewField",deleteField:"[contact] deleteField",loadPrevStateOfContact:"[contact] loadPrevStateOfContact"},O={allContacts:"[contact] allContacts",getContact:"[contact] getContact"},F=(a={},Object(g["a"])(a,E.updateContacts,(function(t,e){t.contacts=e,t.loading=!1})),Object(g["a"])(a,E.updateContact,(function(t,e){var n=t.contacts.findIndex((function(t){return t.id===e.id})),a=Object(b["a"])(Object(b["a"])({},t.contacts[n]),e.updateData);o["a"].set(t.contacts,n,a)})),Object(g["a"])(a,E.addNewContact,(function(t,e){t.contacts.push(e)})),Object(g["a"])(a,E.deleteContact,(function(t,e){var n=t.contacts.findIndex((function(t){return t.id===e}));-1!==n&&t.contacts.splice(n,1)})),Object(g["a"])(a,E.addNewField,(function(t,e){var n=t.contacts.findIndex((function(t){return t.id===e.id}));o["a"].set(t.contacts[n],e.newField.name,e.newField.val)})),Object(g["a"])(a,E.deleteField,(function(t,e){var n=t.contacts.findIndex((function(t){return t.id===e.id}));o["a"].delete(t.contacts[n],e.fieldName)})),a),x=(i={},Object(g["a"])(i,O.allContacts,(function(t){return t.contacts})),Object(g["a"])(i,O.getContact,(function(t){return function(e){return t.contacts.find((function(t){return t.id===e}))}})),i),j={state:y,mutations:F,getters:x},k={props:{contact:{type:Object,required:!0}},methods:{delContact:function(){confirm("Are you sure you want to delete this contact?")&&this.$store.commit(E.deleteContact,this.contact.id)}}},N=k,$=(n("a045"),Object(l["a"])(N,_,w,!1,null,"2071d69b",null)),S=$.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-new-contact"},[t.hasErrors?n("ul",{staticClass:"error"},t._l(t.errors,(function(e,a){return n("li",{key:a},[t._v(" "+t._s(e)+" ")])})),0):t._e(),n("form",{on:{submit:function(e){return e.preventDefault(),t.addContact(e)}}},[n("FormItem",{attrs:{label:"Name*",isEdit:!0},model:{value:t.newContact.name,callback:function(e){t.$set(t.newContact,"name",e)},expression:"newContact.name"}}),n("FormItem",{attrs:{label:"Username",isEdit:!0},model:{value:t.newContact.username,callback:function(e){t.$set(t.newContact,"username",e)},expression:"newContact.username"}}),n("FormItem",{attrs:{label:"Email",isEdit:!0},model:{value:t.newContact.email,callback:function(e){t.$set(t.newContact,"email",e)},expression:"newContact.email"}}),n("FormItem",{attrs:{label:"Phone",isEdit:!0},model:{value:t.newContact.phone,callback:function(e){t.$set(t.newContact,"phone",e)},expression:"newContact.phone"}}),n("div",{staticClass:"btns"},[n("button",{staticClass:"btn btn-cancel",on:{click:function(e){return t.$emit("addContactToglle")}}},[t._v(" Cancel ")]),n("button",{staticClass:"btn btn-green",attrs:{type:"submit"}},[t._v(" Add contact ")])])],1)])},M=[],P=(n("ac1f"),n("466d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return"id"!==t.label?n("div",{staticClass:"contact__info-item"},[n("div",{staticClass:"contact__info-label"},[t._v(t._s(t.label))]),n("input",{staticClass:"contact__info-input",attrs:{type:"text",disabled:!t.isEdit},domProps:{value:t.val},on:{input:function(e){return t.$emit("input",e.target.value)}}})]):t._e()}),q=[],A=(n("a9e3"),{props:{label:{type:String,required:!0},val:[String,Number],isEdit:Boolean}}),D=A,T=(n("52d9"),Object(l["a"])(D,P,q,!1,null,"5a45e7d9",null)),L=T.exports,J={data:function(){return{newContact:{},hasErrors:!1,errors:{}}},components:{FormItem:L},methods:{addContact:function(){if(this.hasErrors=!1,this.errors={},this.newContact.name&&" "!==this.newContact.name?this.required=!0:(this.required=!1,this.errors.name="Name can`t be blank"),this.newContact.phone&&this.newContact.name&&(this.newContact.phone.match(/[0-9]$/)?this.required=!0:(this.required=!1,this.errors.phone="Phone number can`t contain characters")),this.required){var t=this.$store.state.contact.contacts,e=t[t.length-1].id+1;this.newContact.id=e,this.$store.commit(E.addNewContact,this.newContact),this.newContact={},this.$emit("addContactToglle"),this.errors={}}else this.hasErrors=!0}}},B=J,K=(n("eb6e"),Object(l["a"])(B,I,M,!1,null,"14e2f13a",null)),z=K.exports,H={props:["contacts"],data:function(){return{addNewContact:!1}},components:{ContactListItem:S,AddNewContact:z},methods:{addContactToglle:function(){this.addNewContact=!this.addNewContact}}},R=H,G=(n("5bf6"),Object(l["a"])(R,C,v,!1,null,"551d13a8",null)),V=G.exports,U=n("2f62"),W={computed:Object(b["a"])({},Object(U["b"])({allContacts:O.allContacts})),components:{ContactList:V}},Q=W,X=Object(l["a"])(Q,h,p,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact"},[a("div",{staticClass:"contact__top"},[a("router-link",{staticClass:"contact__back",attrs:{to:"/"}},[a("img",{attrs:{src:n("ccfe"),alt:""}})])],1),a("ContactItem")],1)},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contact"},[a("div",{staticClass:"contact__name main-title"},[t._v(" "+t._s(t.contact.name)+" ")]),a("div",{staticClass:"contact__info"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateContact(e)}}},[t.isEdit?t._e():a("div",{staticClass:"contact__info-edit",on:{click:t.toggleEditMode}},[a("img",{attrs:{src:n("e54f")}})]),t.hasErrors?a("ul",{staticClass:"error"},t._l(t.errors,(function(e,n){return a("li",{key:n},[t._v(" "+t._s(e)+" ")])})),0):t._e(),t._l(t.contact,(function(e,n){return a("div",{key:e.id,staticClass:"contact__info-item-wrap"},[a("FormItem",{attrs:{label:n,val:e,isEdit:t.isEdit},model:{value:t.editedContact[n],callback:function(e){t.$set(t.editedContact,n,e)},expression:"editedContact[key]"}}),"id"===n||"name"===n||t.isEdit?t._e():a("button",{staticClass:"btn btn-delete",attrs:{type:"button"},on:{click:function(e){return t.delField(n)}}},[t._v(" - ")])],1)})),t.isEdit?a("div",{staticClass:"contact__info-btns"},[a("button",{staticClass:"btn btn-cancel",attrs:{type:"button"},on:{click:function(e){return t.toggleEditMode("cancel")}}},[t._v(" Cancel ")]),a("button",{staticClass:"btn btn-green",attrs:{type:"submit"}},[t._v("Save")])]):t._e()],2),t.isModified&&!t.isEdit?a("button",{staticClass:"btn btn-green cancel-last-changes",attrs:{type:"button"},on:{click:t.cancelLastChanges}},[t._v(" Cancel last changes ")]):t._e(),t.isEdit?t._e():a("AddNewField",{on:{addNewField:t.addNewField}})],1)])])},nt=[],at=(n("4160"),n("b64b"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-new-field"},[n("div",{staticClass:"hor-line"}),n("div",{staticClass:"sub-title"},[t._v("Add new field")]),t.error?n("ul",{staticClass:"error"},[n("li",[t._v(t._s(t.errorText))])]):t._e(),n("form",{on:{submit:function(e){return e.preventDefault(),t.validateForm(e)}}},[n("FormItem",{attrs:{label:"Name of new field*",val:t.newField.name,isEdit:!0},model:{value:t.newField.name,callback:function(e){t.$set(t.newField,"name",e)},expression:"newField.name"}}),n("FormItem",{attrs:{label:"Value of new field",val:t.newField.val,isEdit:!0},model:{value:t.newField.val,callback:function(e){t.$set(t.newField,"val",e)},expression:"newField.val"}}),n("button",{staticClass:"btn btn-green add-new-field"},[t._v(" Add new field ")])],1)])}),it=[],ot={data:function(){return{newField:{name:"",val:""},error:!1,errorText:"'Name of new field' can`t be blank"}},components:{FormItem:L},methods:{validateForm:function(){this.newField.name?(this.error=!1,this.$emit("addNewField",this.newField),this.newField={}):this.error=!0}}},ct=ot,st=(n("5f15"),Object(l["a"])(ct,at,it,!1,null,"6c485dfb",null)),rt=st.exports,dt={data:function(){return{editedContact:{},isEdit:!1,contactId:+this.$route.params.id,hasErrors:!1,errors:{},required:!1,newField:{},isModified:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(U["b"])({getContact:O.getContact})),{},{contact:function(){return this.getContact(this.contactId)}}),components:{FormItem:L,AddNewField:rt},methods:{toggleEditMode:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("cancel"===e){var n=!1;Object.keys(this.contact).forEach((function(e){t.editedContact[e]&&t.editedContact[e]!==t.contact[e]&&(n=!0)})),n?confirm("Are you sure you want to undo the edit? All unsaved data will be lost")&&(this.isEdit=!this.isEdit):this.isEdit=!this.isEdit}else this.editedContact.name=this.contact.name,this.editedContact.phone=this.contact.phone,this.isEdit=!this.isEdit},updateContact:function(){var t={updateData:this.editedContact,id:this.contactId};this.hasErrors=!1,this.errors={},this.editedContact.name&&" "!==this.editedContact.name?this.required=!0:(this.required=!1,this.errors.name="Name can`t be blank"),this.editedContact.phone&&this.editedContact.name&&(this.editedContact.phone.match(/[0-9]$/)?this.required=!0:(this.required=!1,this.errors.phone="Phone number can`t contain characters")),this.required?(this.$store.state.contact.prevStateOfContact=JSON.parse(JSON.stringify(this.contact)),this.$store.commit(E.updateContact,t),this.isEdit=!this.isEdit,this.isModified=!0):this.hasErrors=!0},delField:function(t){if(this.$store.state.contact.prevStateOfContact=JSON.parse(JSON.stringify(this.contact)),confirm("Are you sure you want to delete this field?")){var e={fieldName:t,id:this.contactId};this.$store.commit(E.deleteField,e),this.isModified=!0}},cancelLastChanges:function(){var t={updateData:this.$store.state.contact.prevStateOfContact,id:this.contactId};this.$store.commit(E.updateContact,t),this.isModified=!1},addNewField:function(t){var e={newField:t,id:this.contactId};this.$store.commit(E.addNewField,e)}}},lt=dt,ut=(n("09be"),Object(l["a"])(lt,et,nt,!1,null,"56e50afe",null)),mt=ut.exports,ft={components:{ContactItem:mt}},ht=ft,pt=(n("7478"),Object(l["a"])(ht,Z,tt,!1,null,"7518a541",null)),bt=pt.exports;o["a"].use(f["a"]);var Ct=new f["a"]({mode:"history",base:"/vue-contacts.github.io/",routes:[{path:"/",component:Y},{path:"/:id",name:"contact",component:bt,params:!0}]});o["a"].use(U["a"]);var vt=new U["a"].Store({modules:{contact:j}});o["a"].config.productionTip=!1,new o["a"]({router:Ct,store:vt,render:function(t){return t(m)}}).$mount("#app")},"5bf6":function(t,e,n){"use strict";n("8d70")},"5d06":function(t,e,n){},"5f15":function(t,e,n){"use strict";n("227e")},7478:function(t,e,n){"use strict";n("1778")},"85ec":function(t,e,n){},"8d70":function(t,e,n){},a045:function(t,e,n){"use strict";n("f6b4")},ccfe:function(t,e,n){t.exports=n.p+"img/back.7e496da8.svg"},e54f:function(t,e,n){t.exports=n.p+"img/edit-ico.7de532a7.svg"},eb6e:function(t,e,n){"use strict";n("5d06")},f6b4:function(t,e,n){}});
//# sourceMappingURL=app.fe0c0fb9.js.map